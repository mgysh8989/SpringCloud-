## 网关

网关，也可以说是 API Gateway 接口网关，是没有页面的

接口，是在面向服务架构和微服务背景下产生的 ，目的是为了解耦

接口分为：
+ 开放接口：
可以被其他机构合作伙伴进行调用（必须走外网访问），比方说
微信开发者平台，需要通过APPID+APPsocket生成AccessToken 进行通信，
对接支付开发，微信开发，目的是可以授权一些接口权限，如第三方联合登录
通用支持OAuth2.0协议

+ 内部接口：
一般只能在局域网中进行调用，服务之间都在同一个微服务系统中
目的是为了保证安全

### 网关的作用

拦截客户端所有请求，对请求进行权限控制，负载均衡，日志管理，接口调用监控等

和过滤器的区别是，过滤器只能拦截单个tomcat容器请求，网关拦截所有微服务请求

### 常用网关

有Zuul和Nginx

相同点：都可以实现负载均衡，反向代理，过滤请求，网关

不同：Nginx使用C语言编写
Zuul使用Java编写

Zuul使用Ribbon+Eureka 实现负载均衡，是本地负载均衡
Nginx使用服务器端实现负载均衡

相比，Nginx比Zuul功能更强，Nginx可以整合一些脚本语言
Nginx适合于服务器端负载均衡，Zuul适合微服务网关（不需要整合其他语言）
建议使用Nginx+Zuul实现网关，Nginx实现反向代理，Zuul实现网关请求拦截


### 规范

如果架构师需要设计一套项目的接口，应该考虑以下
接口权限（开放|内部接口），幂等性（同一客户端的多次操作得到一样的结果），安全性（Https协议）
防止篡改数据（验证签名），使用网关拦截接口实现黑名单和白名单
接口使用http协议和json格式满足Restful风格，目的是为了跨平台
高并发，对接口服务实现服务降级，熔断，隔离，最后统一使用API管理平台 api swagger